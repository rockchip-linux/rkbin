# RV1106 Release Note
## rv1106_hpmcu_tb_{sc230ai,sc3338}_v1.30.bin

| 时间       | 文件                                       | 编译 commit                                      | 重要程度 |
| ---------- | :----------------------------------------- | ------------------------------------------------ | -------- |
| 2022-10-20 | rv1106_hpmcu_tb_{sc230ai,sc3338}_v1.30.bin | rtt:2ede82a43#hal:b569247c#battery_ipc:efaec692c | 重要     |

### New

1. 添加对LTR308数字光敏的支持。
2. 添加对hdr的支持。

### Fixed

| Index | 重要程度 | 更新说明                  | 问题现象                                                     | 问题来源 |
| ----- | -------- | ------------------------- | ------------------------------------------------------------ | -------- |
| 1     | 重要     | 修复0地址被冲问题         | spi nor flash 使用1线模式情况下，spl数据被冲，造成无法启动spl。 | -        |
| 2     | 重要     | 修复共享内存cache操作方式 | ARM核无法及时获取到共享内存数据。                            | -        |

------
## rv1106_hpmcu_wrap_v1.50.bin

| 时间       | 文件                        | 编译 commit                     | 重要程度 |
| ---------- | :-------------------------- | ------------------------------- | -------- |
| 2022-09-29 | rv1106_hpmcu_wrap_v1.50.bin | rockit_ko:576377cb#hal:a76806e7 | 紧急     |

### Fixed

| Index | 重要程度 | 更新说明                    | 问题现象                                                     | 问题来源 |
| ----- | -------- | --------------------------- | ------------------------------------------------------------ | -------- |
| 1     | 普通     | 优化代码逻辑                 | 减少代码量，增加打印信息 | -        |
| 2     | 重要     | 提高编码器的QOS=0X505        | 减少部分场景OVERFLOW               | -        |
| 3     | 紧急     | 开机无效CACHE                | 直接运行代码导致因为脏CACHE冲LINUX内存 | -        |

------

## rv1106_hpmcu_wrap_v1.46.bin

| 时间       | 文件                        | 编译 commit                     | 重要程度 |
| ---------- | :-------------------------- | ------------------------------- | -------- |
| 2022-09-08 | rv1106_hpmcu_wrap_v1.46.bin | rockit_ko:7e8fe8af#hal:a76806e7 | 重要     |

### Fixed

| Index | 重要程度 | 更新说明                    | 问题现象                                                     | 问题来源 |
| ----- | -------- | --------------------------- | ------------------------------------------------------------ | -------- |
| 1     | 重要     | 修复1.40引入的BUG           | 当编码器启动双码流后，MCU概率性无法判断卷绕帧结束，主码流卡死 | -        |
| 2     | 重要     | 修复加载MCU固件引起的冲内存 | 在加载MCU固件之前直接RESET RISCV会导致冲内存。               | -        |
| 3     | 重要     | OVERFLOW无法丢帧            | 如果编码器启动太慢，MCU报OVERFLOW，但编码器无法丢帧引起超时复位。 | -        |

------

## rv1106_hpmcu_tb_{sc230ai,sc3338}_v1.20.bin

| 时间       | 文件                              | 编译 commit     | 重要程度 |
| ---------- | :-------------------------------- | ---------- | -------- |
| 2022-09-03 | rv1106_hpmcu_tb_{sc230ai,sc3338}_v1.20.bin | rtt:efa791c#hal:b569247#battery_ipc:d5fb92e | 紧急   |

### New

1. 支持快启第一帧aiq全参流程。
2. 支持rtt阶段从meta分区设置帧率分辨率。
3. 支持同步meta头文件。
4. fast ae 效果优化，曝光分解与AIQ完全一致，支持db 增益synsensor,支持check 曝光寄存器。
5. 全参并行方案开启AE统计。
6. meta地址可以用menuconfig配置。

### Fixed

| Index | 重要程度 | 更新说明                                                     | 问题现象                                         | 问题来源 |
| ----- | -------- | ------------------------------------------------------------ | ------------------------------------------------ | -------- |
| 1     | 重要     | 解决thread:tidle stack overflow的问题                        | 概率出现thread:tidle stack overflow，rtt异常退出 | -        |
| 2     | 重要     | 从iq bin中读取ae标定参数                                     | ae标定数据 不生效                                | -        |
| 3     | 重要     | 解决暗环境AIQ启动后去噪锐化效果变化及亮度变暗的问题          | 暗环境下内核阶段和aiq不平滑的衔接                | -        |
| 4     | 紧急     | 解决全参图像效果问题，需要与AIQ提交0ed3f415d3相匹配，否则图像会变绿 | 全参图像效果异常                                 | -        |

